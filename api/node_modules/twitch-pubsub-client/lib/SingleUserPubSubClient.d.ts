import type { LoggerOptions } from '@d-fischer/logger';
import { LogLevel } from '@d-fischer/logger';
import type { ApiClient } from 'twitch';
import type { UserIdResolvable } from 'twitch-common';
import { BasicPubSubClient } from './BasicPubSubClient';
import { PubSubBitsBadgeUnlockMessage } from './Messages/PubSubBitsBadgeUnlockMessage';
import { PubSubBitsMessage } from './Messages/PubSubBitsMessage';
import { PubSubChatModActionMessage } from './Messages/PubSubChatModActionMessage';
import { PubSubRedemptionMessage } from './Messages/PubSubRedemptionMessage';
import { PubSubSubscriptionMessage } from './Messages/PubSubSubscriptionMessage';
import { PubSubWhisperMessage } from './Messages/PubSubWhisperMessage';
import { PubSubListener } from './PubSubListener';
/**
 * Options for creating the single-user PubSub client.
 */
interface SingleUserPubSubClientOptions {
    /**
     * The {@ApiClient} instance to use for API requests and token management.
     */
    twitchClient: ApiClient;
    /**
     * The underlying {@BasicPubSubClient} instance. If not given, we'll create a new one.
     *
     * **WARNING:** If you pass this, you shouldn't execute any manual actions on it.
     * You can, however, pass the same client to multiple instances of {@SingleUserPubSubClient}.
     */
    pubSubClient?: BasicPubSubClient;
    /**
     * Options to pass to the logger.
     */
    logger?: Partial<LoggerOptions>;
    /**
     * The level of logging to use for the PubSub client.
     *
     * @deprecated Use {@SingleUserPubSubClientOptions#logger} instead.
     */
    logLevel?: LogLevel;
}
/**
 * A higher level PubSub client attached to a single user.
 */
export declare class SingleUserPubSubClient {
    private readonly _apiClient;
    private readonly _pubSubClient;
    private readonly _listeners;
    private _userId?;
    /**
     * Creates a new Twitch PubSub client.
     *
     * @expandParams
     */
    constructor({ twitchClient, pubSubClient, logLevel, logger }: SingleUserPubSubClientOptions);
    /**
     * Adds a listener to bits events to the client.
     *
     * @param callback A function to be called when a bits event happens in the user's channel.
     *
     * It receives a {@PubSubBitsMessage} object.
     */
    onBits(callback: (message: PubSubBitsMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to bits badge unlock events to the client.
     *
     * @param callback A function to be called when a bit badge is unlocked in the user's channel.
     *
     * It receives a {@PubSubBitsBadgeUnlockMessage} object.
     */
    onBitsBadgeUnlock(callback: (message: PubSubBitsBadgeUnlockMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to redemption events to the client.
     *
     * @param callback A function to be called when a channel point reward is redeemed in the user's channel.
     *
     * It receives a {@PubSubRedemptionMessage} object.
     */
    onRedemption(callback: (message: PubSubRedemptionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to subscription events to the client.
     *
     * @param callback A function to be called when a subscription event happens in the user's channel.
     *
     * It receives a {@PubSubSubscriptionMessage} object.
     */
    onSubscription(callback: (message: PubSubSubscriptionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to whisper events to the client.
     *
     * @param callback A function to be called when a whisper is sent to the user.
     *
     * It receives a {@PubSubWhisperMessage} object.
     */
    onWhisper(callback: (message: PubSubWhisperMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to mod action events to the client.
     *
     * @param channelId The ID of the channel to listen to.
     * @param callback A function to be called when a mod action event is sent to the user.
     *
     * It receives a {@PubSubChatModActionMessage} object.
     */
    onModAction(channelId: UserIdResolvable, callback: (message: PubSubChatModActionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Removes a listener from the client.
     *
     * @param listener A listener returned by one of the `add*Listener` methods.
     */
    removeListener(listener: PubSubListener<never>): Promise<void>;
    private _parseMessage;
    private _getUserId;
    private _addListener;
}
export {};
